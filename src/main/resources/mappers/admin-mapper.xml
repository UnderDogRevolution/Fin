<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminMapper">

	<resultMap type="Admin" id="admin_rm">
		<id property="memberNo" column="MEMBER_NO" />
		
		<result property="name" column="MEMBER_NM" />
		<result property="nickName" column="MEMBER_NICKNM" />
		<result property="password" column="MEMBER_PW" />
		<result property="email" column="MEMBER_EMAIL" />
		<result property="birth" column="MEMBER_BIRTH" />
		<result property="enrollDt" column="ENROLL_DT" />
		<result property="statusCd" column="STATUS_CD" />
		<result property="gradeCd" column="GRADE_CD" />
		
	</resultMap>




	<select id="login"  resultMap="admin_rm">
		SELECT *
		FROM MEMBER
		WHERE MEMBER_EMAIL = #{email}
		AND MEMBER_PW = #{password}
		AND GRADE_CD = 101
	</select>
	
	
	
 	<!-- 게시글 목록 조회 -->
	<!-- <select id="selectAskList" resultMap="admin_rm">
		 <![CDATA[
		SELECT ASK_NO, ASK_TITLE, 
		    CASE WHEN SYSDATE - CREATE_DT < 1
		         THEN TO_CHAR(CREATE_DT, 'HH:MI')     
		         ELSE TO_CHAR(CREATE_DT, 'YYYY-MM-DD')
		    END "CREATE_DT",
		    MEMBER_NO, MEMBER_NM, 
		FROM BOARD -- STATUS_CD
		JOIN MEMBER USING(MEMBER_NO) -- STATUS_CD
		JOIN STATUS ON(BOARD.STATUS_CD = STATUS.STATUS_CD)
		JOIN CATEGORY USING(CATEGORY_CD)
		WHERE STATUS_CD != 4
		ORDER BY BOARD_NO DESC
		]]>  
	</select> -->
	
</mapper>
